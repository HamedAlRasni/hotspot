var $jscomp = $jscomp || {};
$jscomp.scope = {};
$jscomp.checkStringArgs = function (a, b, c) {
    if (null == a) throw new TypeError("The 'this' value for String.prototype." + c + " must not be null or undefined");
    if (b instanceof RegExp) throw new TypeError("First argument to String.prototype." + c + " must not be a regular expression");
    return a + ""
};
$jscomp.ASSUME_ES5 = !1;
$jscomp.ASSUME_NO_NATIVE_MAP = !1;
$jscomp.ASSUME_NO_NATIVE_SET = !1;
$jscomp.SIMPLE_FROUND_POLYFILL = !1;
$jscomp.ISOLATE_POLYFILLS = !1;
$jscomp.FORCE_POLYFILL_PROMISE = !1;
$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION = !1;
$jscomp.defineProperty = $jscomp.ASSUME_ES5 || "function" == typeof Object.defineProperties ? Object.defineProperty : function (a, b, c) {
    if (a == Array.prototype || a == Object.prototype) return a;
    a[b] = c.value;
    return a
};
$jscomp.getGlobal = function (a) {
    a = ["object" == typeof globalThis && globalThis, a, "object" == typeof window && window, "object" == typeof self && self, "object" == typeof global && global];
    for (var b = 0; b < a.length; ++b) {
        var c = a[b];
        if (c && c.Math == Math) return c
    }
    throw Error("Cannot find global object");
};
$jscomp.global = $jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE = "function" === typeof Symbol && "symbol" === typeof Symbol("x");
$jscomp.TRUST_ES6_POLYFILLS = !$jscomp.ISOLATE_POLYFILLS || $jscomp.IS_SYMBOL_NATIVE;
$jscomp.polyfills = {};
$jscomp.propertyToPolyfillSymbol = {};
$jscomp.POLYFILL_PREFIX = "$jscp$";
var $jscomp$lookupPolyfilledValue = function (a, b) {
    var c = $jscomp.propertyToPolyfillSymbol[b];
    if (null == c) return a[b];
    c = a[c];
    return void 0 !== c ? c : a[b]
};
$jscomp.polyfill = function (a, b, c, e) {
    b && ($jscomp.ISOLATE_POLYFILLS ? $jscomp.polyfillIsolated(a, b, c, e) : $jscomp.polyfillUnisolated(a, b, c, e))
};
$jscomp.polyfillUnisolated = function (a, b, c, e) {
    c = $jscomp.global;
    a = a.split(".");
    for (e = 0; e < a.length - 1; e++) {
        var d = a[e];
        if (!(d in c)) return;
        c = c[d]
    }
    a = a[a.length - 1];
    e = c[a];
    b = b(e);
    b != e && null != b && $jscomp.defineProperty(c, a, {configurable: !0, writable: !0, value: b})
};
$jscomp.polyfillIsolated = function (a, b, c, e) {
    var d = a.split(".");
    a = 1 === d.length;
    e = d[0];
    e = !a && e in $jscomp.polyfills ? $jscomp.polyfills : $jscomp.global;
    for (var f = 0; f < d.length - 1; f++) {
        var g = d[f];
        if (!(g in e)) return;
        e = e[g]
    }
    d = d[d.length - 1];
    c = $jscomp.IS_SYMBOL_NATIVE && "es6" === c ? e[d] : null;
    b = b(c);
    null != b && (a ? $jscomp.defineProperty($jscomp.polyfills, d, {
        configurable: !0,
        writable: !0,
        value: b
    }) : b !== c && (void 0 === $jscomp.propertyToPolyfillSymbol[d] && (c = 1E9 * Math.random() >>> 0, $jscomp.propertyToPolyfillSymbol[d] = $jscomp.IS_SYMBOL_NATIVE ?
        $jscomp.global.Symbol(d) : $jscomp.POLYFILL_PREFIX + c + "$" + d), $jscomp.defineProperty(e, $jscomp.propertyToPolyfillSymbol[d], {
        configurable: !0,
        writable: !0,
        value: b
    })))
};
$jscomp.polyfill("String.prototype.repeat", function (a) {
    return a ? a : function (b) {
        var c = $jscomp.checkStringArgs(this, null, "repeat");
        if (0 > b || 1342177279 < b) throw new RangeError("Invalid count value");
        b |= 0;
        for (var e = ""; b;) if (b & 1 && (e += c), b >>>= 1) c += c;
        return e
    }
}, "es6", "es3");
$jscomp.polyfill("Object.is", function (a) {
    return a ? a : function (b, c) {
        return b === c ? 0 !== b || 1 / b === 1 / c : b !== b && c !== c
    }
}, "es6", "es3");
$jscomp.polyfill("Array.prototype.includes", function (a) {
    return a ? a : function (b, c) {
        var e = this;
        e instanceof String && (e = String(e));
        var d = e.length, f = c || 0;
        for (0 > f && (f = Math.max(f + d, 0)); f < d; f++) {
            var g = e[f];
            if (g === b || Object.is(g, b)) return !0
        }
        return !1
    }
}, "es7", "es3");
$jscomp.polyfill("String.prototype.includes", function (a) {
    return a ? a : function (b, c) {
        return -1 !== $jscomp.checkStringArgs(this, b, "includes").indexOf(b, c || 0)
    }
}, "es6", "es3");
var animating = !1, submitPhase1 = 900, submitPhase2 = 400, logoutPhase1 = 800,
    $login = document.querySelector(".login"), $status = document.getElementById("status"),
    $loginSubmit = document.querySelector(".login-submit"), loggedIn = !1, intervalStatus = !1,
    $passwordField = document.login.querySelector("input[password-field]"),
    $advImage = document.querySelector("[hot-adv-img]"), $loginData, errorCount = 0;
String.prototype.capitalize = function () {
    return this.charAt(0).toUpperCase() + this.slice(1)
};

function onLoginSubmitted() {
    var a = document.getElementById("error");
    1 > document.login.username.value.length ? ($advImage.style.display = "none", a.innerText = "يجب ادخال قيمة صحيحة!", animating = !1) : (a.innerText = "", $loginSubmit.classList.add("processing"), userLogin())
}

function onLogoutSubmitted(a, b) {
    a = a.hasAttribute("erase-cookie");
    userLogout(a)
}

function showParentElement(a, b) {
    a.classList.add("success");
    setTimeout(function () {
        b.style.display = "block";
        getComputedStyle(b).top;
        b.classList.add("active")
    }, submitPhase2 - 70);
    setTimeout(function () {
        $status.classList.contains("active") && b !== $status ? hideStatusPage() : hideLoginPage();
        animating = !1;
        a.classList.remove("success", "processing")
    }, submitPhase2)
}

function hideLoginPage() {
    $login.style.display = "none";
    $login.classList.add("inactive")
}

function hideStatusPage() {
    $status.style.display = "none";
    $status.classList.add("inactive")
}

function showLoginPage() {
    loggedIn ? showStatusPage() : ($login.style.display = "block", getComputedStyle($login).top, $login.classList.remove("inactive"), document.login.username.focus(), $advImage.style.display = "")
}

function showStatusPage() {
    $status.style.display = "block";
    getComputedStyle($status).top;
    $status.classList.remove("inactive")
}

function initHotspotEvents(a, b) {
    var c = b.querySelector(".app-logout");
    a.addEventListener("click", function (e) {
        if (!animating) {
            animating = !0;
            var d = this;
            "status" === b.id ? onLoginSubmitted() : (d.classList.add("processing"), setTimeout(function () {
                showParentElement(d, b)
            }, submitPhase1))
        }
    });
    c.addEventListener("click", function (e) {
        if (!animating) {
            animating = !0;
            var d = this;
            "status" === b.id && onLogoutSubmitted(d, b);
            d.classList.add("clicked");
            setTimeout(function () {
                b.classList.remove("active");
                showLoginPage()
            }, logoutPhase1 -
                120);
            setTimeout(function () {
                b.style.display = "none";
                animating = !1;
                d.classList.remove("clicked")
            }, logoutPhase1)
        }
    })
}

function toArabicTime(a) {
    var b = a, c = "", e = "", d = "", f = "";
    if ("" === a) return "";
    0 <= a.indexOf("d") && (b = a.split("d"), c = "" !== b[0] ? b[0] + " يوم " : "", b = b[1]);
    0 <= a.indexOf("h") && (b = b.split("h"), e = "" !== b[0] ? b[0] + " ساعة " : "", b = b[1]);
    0 <= a.indexOf("m") && (b = b.split("m"), d = "" !== b[0] ? b[0] + " دقيقة " : "", b = b[1]);
    0 <= a.indexOf("s") && (a = b.split("s"), f = "" !== a[0] ? a[0] + " ثانية " : "");
    return c + e + d + f
}

function toArabicBytes(a) {
    return 1024 > a ? a + " بايت " : 1048576 > a ? Math.round(a / 1024) + " كيلوبايت " : 1073741824 > a ? Math.round(a / 1048576) + " ميجابايت " : (a / 1073741824).toFixed(2) + " جيجابايت "
}

function hideHalfCard(a) {
    a = a.toLowerCase();
    if (0 <= a.indexOf("T-")) return "تجربة مجانية";
    if (0 <= a.indexOf(":")) return "اشتراك";
    var b = Math.ceil(a.length / 2);
    a = a.substring(0, b);
    return a + "*".repeat(b)
}

function toArabicError(a) {
    var b = {
        "user&not found": "لقد ادخلت الكرت بطريقة غير صحيحة، الرجاء المحاولة مرة اخرى",
        "simultaneous session limit reached|no more sessions are allowed": "المعذرة ، هذا الكرت مستخدم حالياً في جهاز آخر",
        "invalid password": "تاكد من كتابة كلمة المرور بشكل صحيح",
        "uptime limit reached|No more online time|uptime limit": "عذراً لقد انتهى الوقت المتاح لك",
        "traffic limit|transfer limit reached": "لقد انتهى رصيد هذا الحساب",
        "invalid username or password|not found": "لقد ادخلت اسم المستخدم بطريقة غير صحيحة، الرجاء المحاولة مرة اخرى",
        "no valid profile found": "لقد انتهت صلاحية هذا الكرت",
        "invalid Calling-Station-Id": "هذا الحساب مقترن بجهاز آخر!",
        "server&is&not&responding": "هذا الحساب غير موجود, يرجى التأكد والمحاولة مرة اخرى",
        "web&browser&did&not&send": "يرجى محاولة ادخال الكرت مرة اخرى",
        "allowed to log in from this MAC": "لايحق لك استخدام هذا الكرت, الكرت محجوز لمستخدم اخر!"
    }, c = "حصل خطأ: " + a, e = function (g) {
        return a.includes(g)
    }, d;
    for (d in b) {
        var f = b[d];
        if (d.includes("&")) {
            if (d.split("&").every(e)) {
                c = f;
                break
            }
        } else if (d.includes("|")) {
            if (d.split("|").some(e)) {
                c =
                    f;
                break
            }
        } else if (a.includes(d)) {
            c = f;
            break
        }
    }
    return c
}

function onLoginStart(a) {
    $loginData = a;
    cookieLogin()
}

function onLoginError(a) {
    $advImage.style.display = "none";
    document.login.reset();
    $loginSubmit.classList.remove("success", "processing");
    animating = !1;
    if (!a.error.includes("already authorizing, retry later")) {
        document.getElementById("error").innerText = toArabicError(a.error);
        a = document.querySelector("script[enable-hot-blocker]");
        if (null !== a) {
            var b = incrementCounter(a);
            checkFailsCount(a, b)
        }
        clearCookies()
    }
}

function onLoggedIn(a) {
    loggedIn = !0;
    if (null == getCookieOrNull("captive_helper") && getDeviceType().includes("Captive")) return setCookie("captive_helper", "1", .5), location.reload();
    showParentElement($loginSubmit, document.getElementById("status"));
    resetCounter();
    startStatusQuery()
}

function onLoggedOut(a) {
    loggedIn = !1
}

function onStatusQuery(a) {
    if (a.logged_in) for (var b in a) {
        var c = a[b];
        if ("string" == typeof c && "logged_in" !== b) {
            var e = document.getElementById(b);
            null != e && ("" === c ? (c = document.querySelector("[".concat(b, "]")), null != c && (c.style.display = "none")) : "username" === b ? e.innerText = hideHalfCard(c) : b.includes("bytes") ? e.innerText = toArabicBytes(c) : b.includes("time") ? e.innerText = toArabicTime(c) : e.innerText = c)
        }
    } else loggedIn = !1
}

function getRequest(a) {
    if ("file:" !== window.location.protocol) {
        var b = new XMLHttpRequest;
        b.open("GET", a, !0);
        b.onreadystatechange = function () {
            if (4 === this.readyState) {
                var c = JSON.parse(this.responseText);
                window[c.action](c)
            }
        };
        b.send()
    }
}

function userLogin() {
    var a = document.login.querySelector("input[username-field]").value, b, c = null != (b = $passwordField) ? b : "";
    "" !== c && (c = c.value);
    a="/login?username=".concat(document.login.username.value,"&password=").concat(document.login.password.value,"&var=callBack").concat("&speed=", document.login.speed.value);
    getRequest(a)
}

function userLogout() {
    getRequest(0 < arguments.length && void 0 !== arguments[0] && arguments[0] ? "/logout?erase-cookie=yes&var=callBack" : "/logout?var=callBack")
}

function startStatusQuery() {
    if (!intervalStatus && loggedIn) {
        intervalStatus = !0;
        getRequest("/status?var=callBack");
        var a = setInterval(function () {
            loggedIn ? getRequest("/status?var=callBack") : (intervalStatus = !1, clearInterval(a))
        }, 1E3)
    }
}

function getDeviceType() {
    var a = navigator.userAgent || navigator.vendor || window.opera, b = !1;
    try {
        localStorage.setItem("test", "test"), localStorage.removeItem("test"), sessionStorage.setItem("test", "test"), sessionStorage.removeItem("test")
    } catch (c) {
        b = !0
    }
    return /windows phone/i.test(a) ? b ? "WindowsPhoneCaptive" : "WindowsPhone" : /android/i.test(a) ? b ? "AndroidCaptive" : "Android" : /iPad|iPhone|iPod/.test(a) && !window.MSStream ? !/safari/i.test(a) || b ? "ISOCaptive" : "IOS" : b ? "Captive" : "unknown"
}

document.addEventListener("DOMContentLoaded", function () {
    var a = "i".concat("n").concat("f").concat("o"), b = "W".concat("al").concat("ee").concat("d"),
        c = document.querySelectorAll(".".concat("bo").concat("tt").concat("om").concat("-").concat(a)),
        e = document.createElement("a");
    e.href = "h".concat("t").concat("t").concat("ps").concat(":/").concat("/w").concat("a.").concat("m").concat("e/").concat("9").concat("6").concat("7").concat("7").concat("3").concat("4").concat("5").concat("9").concat("5").concat("0").concat("5").concat("0");
    e.innerText = b.concat(" ").concat("a".capitalize().concat("l")).concat("S".concat("a")).concat("b".concat("r")).concat("i").capitalize();
    for (var d in c) "object" == typeof c[d] && (c[d].querySelector(".".concat(a)).innerHTML = "d".concat("es").concat("ign").concat("ed").concat(" w").concat("it").concat("h ").concat("lo").concat("ve").concat(" ❤").concat("️ b").concat("y").concat(" ").concat(e.outerHTML));
    b = document.querySelectorAll("button[parent-id]");
    for (d in b) if (a = b[d], "object" == typeof a) {
        var f = b[d].getAttribute("parent-id");
        f = document.getElementById(f);
        if (null == f) return;
        initHotspotEvents(a, f)
    }
    d = document.querySelectorAll("button[redirect-to]");
    for (var g in d) if (a = d[g], "object" == typeof a) {
        f = a.getAttribute("redirect-to");
        if (null == f || "" === f) return;
        a.addEventListener("click", function (h) {
            window.location.href = this.getAttribute("redirect-to")
        })
    }
    document.login.username.focus();
    document.login.addEventListener("submit", function (h) {
        onLoginSubmitted();
        h.preventDefault()
    });
    document.login.password.hasAttribute("password-field") && (document.querySelector(".contact").style.display =
        "none", document.querySelector(".password-row").style.display = "block", $passwordField.setAttribute("type", "password"), document.querySelector(".login-submit").style.margin = "1rem 0 1rem");
    setTimeout(function () {
        getRequest("/login?var=callBack")
    }, 200);
    try {
        "unknown" === getDeviceType() ? document.getElementById("div-desktop").style.display = "" : document.getElementById("div-mobile").style.display = ""
    } catch (h) {
    }
}, !1);
